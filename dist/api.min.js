!function(a,b){return"function"==typeof define&&define.amd?define(b):("undefined"==typeof locator&&(a.locator={core:{}}),void(locator.core.API=b()))}(this,function(){"use strict";function a(a,b){"undefined"==typeof b&&(b="//open."+a+".bbc.co.uk"),this.env=a,this.domain=b}a.prototype.getLocation=function(a,c){var d="",e="location";"undefined"==typeof c.params&&(c.params={}),"undefined"!=typeof c.params.details&&(e="details",d="/details/"+c.params.details.join(","),c.params.vv=2,delete c.params.details),b(this.domain+"/locator/locations/"+a+d,c,e)},a.prototype.search=function(a,c){"undefined"==typeof c.params&&(c.params={}),c.params.s=a,b(this.domain+"/locator/locations",c,"search")},a.prototype.autoComplete=function(a,c){"undefined"==typeof c.params&&(c.params={}),c.params.s=a,c.params.a="true",b(this.domain+"/locator/locations",c,"autoComplete")},a.prototype.reverseGeocode=function(a,c,d){"undefined"==typeof d.params&&(d.params={}),d.params.lo=c,d.params.la=a,b(this.domain+"/locator/locations",d,"reverseGeocode")};var b=function(a,b,e){var f,g;g="_callback"+Math.round(1e4*Math.random()),b.params.format="jsonp",b.params.jsonp=g,window[g]=function(a){delete window[g],document.body.removeChild(f),b.success&&b.success(c(a,e))},f=document.createElement("script"),f.src=a+d(b.params),f.onerror=b.error,document.body.appendChild(f)},c=function(a,b){var c={};switch(b){case"location":c.location=a.response;break;case"details":c.location=a.response.metadata.location,c.details=a.response.content.details.details;break;case"search":c.results=a.response.locations,c.metadata={totalResults:a.response.totalResults};break;case"autoComplete":c.results=a.response.results.results,c.metadata={totalResults:a.response.results.totalResults};break;case"reverseGeocode":c.results=a.response.results.results}return c},d=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c+"="+a[c]);return"?"+b.join("&")};return a});
//# sourceMappingURL=api.min.map